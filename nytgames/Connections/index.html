<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Connections</title>

  <!-- IMPORTANT: load Wordle styles directly -->
  <link rel="stylesheet" href="../Wordle/styles.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<nav class="top-nav" aria-label="Games navigation">
  <div class="top-nav-inner">
    <div class="nav-row" role="tablist" aria-label="Games">
      <a class="nav-btn" role="tab" aria-selected="false" data-game="pips" href="../Pips/index.html">
        <img class="nav-icon" src="../icons/pips.png" alt="Pips" />
      </a>
      <a class="nav-btn" role="tab" aria-selected="true" data-game="connections" href="./index.html">
        <img class="nav-icon" src="../icons/connections.png" alt="Connections" />
      </a>
      <a class="nav-btn" role="tab" aria-selected="false" data-game="wordle" href="../Wordle/index.html">
        <img class="nav-icon" src="../icons/wordle.webp" alt="Wordle" />
      </a>
      <a class="nav-btn" role="tab" aria-selected="false" data-game="strands" href="../Strands/index.html">
        <img class="nav-icon" src="../icons/strands.webp" alt="Strands" />
      </a>
      <a class="nav-btn" role="tab" aria-selected="false" data-game="spellingbee" href="../SpellingBee/index.html">
        <img class="nav-icon" src="../icons/spelling-bee.webp" alt="Spelling Bee" />
      </a>
    </div>
  </div>
</nav>

<main class="connections">

  <div id="grid" class="grid"></div>

  <div class="controls">
    <button id="shuffle">Shuffle</button>
    <button id="restart">Restart</button>
  </div>

  <div id="feedback" class="feedback"></div>
</main>

<!-- SAME nav script as Spelling Bee -->
<script>
document.addEventListener('DOMContentLoaded', function(){
  requestAnimationFrame(()=>{
    const nav = document.querySelector('.top-nav');
    if(nav) setTimeout(()=> nav.classList.add('open'), 120);
  });

  document.addEventListener('keydown', (e)=>{
    const nav = document.querySelector('.top-nav');
    if(!nav) return;

    const items = Array.from(nav.querySelectorAll('.nav-btn'));
    const activeIndex = items.findIndex(
      b => b.getAttribute('aria-selected') === 'true'
    );

    if(e.key === 'ArrowRight'){
      const idx = (activeIndex + 1) % items.length;
      items.forEach(b=> b.setAttribute('aria-selected','false'));
      items[idx].setAttribute('aria-selected','true');
      items[idx].focus();
    }
    else if(e.key === 'ArrowLeft'){
      const idx = (activeIndex - 1 + items.length) % items.length;
      items.forEach(b=> b.setAttribute('aria-selected','false'));
      items[idx].setAttribute('aria-selected','true');
      items[idx].focus();
    }
    else if(e.key === 'Enter' || e.key === ' ') {
      const focused = document.activeElement;
      if(focused?.classList.contains('nav-btn') && focused.href){
        window.location.href = focused.href;
      }
    }
  });
});
</script>

<script src="script.js"></script>
</body>
</html>
